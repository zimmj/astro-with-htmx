---
import type { Todo } from '../lib/todo';

export interface Props {
  todo: Todo | null;
}
const { todo } = Astro.props;

if (!todo) {
  return null;
}
---
<li
  class="todo-item bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center justify-between hover:shadow-md transition-shadow duration-200"
  id={`todo-${todo.id}`}
>
  <div class="flex items-center gap-3">
    <span class={`text-gray-800 ${todo.completed ? 'line-through text-gray-500' : ''}`}>
      {todo.text}
    </span>
    {todo.completed && (
      <span class="px-2 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-full">
        Completed
      </span>
    )}
  </div>
  <button
    class="delete-button px-4 py-2 bg-red-500 text-white text-sm font-medium rounded-lg hover:bg-red-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
    hx-delete={`/api/todos/${todo.id}`}
    hx-target="closest .todo-item"
    hx-swap="outerHTML"
  >
    Delete
  </button>
</li>